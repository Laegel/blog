<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/12718d08b4275020.css" as="style"/><link rel="stylesheet" href="/_next/static/css/12718d08b4275020.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-cda2f1305c3d9424.js" defer=""></script><script src="/_next/static/chunks/main-f11614d8aa7ee555.js" defer=""></script><script src="/_next/static/chunks/pages/_app-3c8296bcc80bf5fe.js" defer=""></script><script src="/_next/static/chunks/pages/idees/articles/%5Bslug%5D-ee17d56579a8273b.js" defer=""></script><script src="/_next/static/2cIfnXbK-LN1ukIOQ7QcV/_buildManifest.js" defer=""></script><script src="/_next/static/2cIfnXbK-LN1ukIOQ7QcV/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="idees min-h-screen flex flex-col" style="min-height:100vh"><main class="text-foreground flex-1 w-full max-w-screen-lg m-auto p-2 mb-4"><nav class="absolute left-0 top-0 h-12 w-full bg-primary"><div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"><div class="relative flex items-center justify-between h-12"><div class="flex-1 flex items-center justify-left h-full"><div class="flex-shrink-0 flex items-center h-full"><a rel="nav" class="block h-full" href="/"><svg height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="135.91750488281252 12.788867187500003 228.16499023437498 124.422265625" style="background:none" preserveAspectRatio="xMidYMid"><defs><linearGradient id="editing-gradient-gradient" x1="0" x2="1" y1="0.5" y2="0.5" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#000"></stop><stop offset="1" stop-color="#000"></stop></linearGradient></defs><g><g transform="translate(172.3700008392334, 94.11999893188477)"><path d="M4.99 0L4.99-44.80L8.58-44.80L8.58-3.20L28.10-3.20L28.10 0L4.99 0ZM55.17 0L55.17 0Q48.26 0.70 45.18 0.70L45.18 0.70L45.18 0.70Q38.46 0.70 34.50-1.79L34.50-1.79L34.50-1.79Q30.53-4.29 30.53-10.82L30.53-10.82L30.53-16.13L30.53-16.13Q30.53-22.46 34.94-24.64L34.94-24.64L34.94-24.64Q37.06-25.73 40.32-25.73L40.32-25.73L40.32-25.73Q43.33-25.73 46.40-24.74L46.40-24.74L46.40-24.74Q49.47-23.74 51.58-22.14L51.58-22.14L51.58-22.14Q51.58-25.66 49.54-27.74L49.54-27.74L49.54-27.74Q47.49-29.82 41.66-29.82L41.66-29.82L41.86-32.58L41.86-32.58Q48-32.58 50.91-30.62L50.91-30.62L50.91-30.62Q53.82-28.67 54.50-25.98L54.50-25.98L54.50-25.98Q55.17-23.30 55.17-19.07L55.17-19.07L55.17 0ZM51.58-19.39L51.58-19.39Q48.96-20.61 45.98-21.50L45.98-21.50L45.98-21.50Q43.01-22.40 40.51-22.40L40.51-22.40L40.51-22.40Q34.05-22.40 34.05-15.94L34.05-15.94L34.05-10.37L34.05-10.37Q34.05-6.21 36.93-4.32L36.93-4.32L36.93-4.32Q39.81-2.43 45.12-2.43L45.12-2.43L45.12-2.43Q47.87-2.43 51.58-2.94L51.58-2.94L51.58-19.39ZM81.15-2.24L81.15-2.24Q78.85-0.77 75.90 0L75.90 0L75.90 0Q72.96 0.77 70.02 0.77L70.02 0.77L70.02 0.77Q65.28 0.77 62.50-1.57L62.50-1.57L62.50-1.57Q59.71-3.90 59.71-8.58L59.71-8.58L59.71-21.70L59.71-21.70Q59.71-26.88 62.94-29.76L62.94-29.76L62.94-29.76Q66.18-32.64 71.49-32.64L71.49-32.64L71.49-32.64Q76.80-32.64 79.78-29.79L79.78-29.79L79.78-29.79Q82.75-26.94 82.75-21.89L82.75-21.89L82.75-13.57L63.30-12.48L63.30-8.58L63.30-8.58Q63.30-5.50 65.28-3.97L65.28-3.97L65.28-3.97Q67.26-2.43 70.46-2.43L70.46-2.43L70.46-2.43Q74.94-2.43 79.74-4.99L79.74-4.99L81.15-2.24ZM79.17-22.34L79.17-22.34Q79.17-26.30 76.67-27.94L76.67-27.94L76.67-27.94Q74.18-29.57 71.42-29.57L71.42-29.57L71.42-29.57Q67.90-29.57 65.60-27.65L65.60-27.65L65.60-27.65Q63.30-25.73 63.30-21.63L63.30-21.63L63.30-16L79.17-16.77L79.17-22.34ZM103.94 10.69L103.94 10.69Q108.16 9.09 108.16 4.03L108.16 4.03L108.16-3.90L108.16-3.90Q105.47 0.77 99.52 0.77L99.52 0.77L99.52 0.77Q93.89 0.77 90.75-2.30L90.75-2.30L90.75-2.30Q87.62-5.38 87.62-11.26L87.62-11.26L87.62-20.80L87.62-20.80Q87.62-26.43 90.91-29.54L90.91-29.54L90.91-29.54Q94.21-32.64 99.78-32.64L99.78-32.64L99.78-32.64Q105.73-32.64 108.42-28.35L108.42-28.35L108.16-32.06L111.74-32.06L111.74 4.10L111.74 4.10Q111.74 7.94 110.14 10.11L110.14 10.11L110.14 10.11Q108.54 12.29 104.90 13.44L104.90 13.44L103.94 10.69ZM108.16-21.50L108.16-21.50Q108.16-25.47 105.60-27.42L105.60-27.42L105.60-27.42Q103.04-29.38 99.52-29.38L99.52-29.38L99.52-29.38Q96.13-29.38 93.66-27.30L93.66-27.30L93.66-27.30Q91.20-25.22 91.20-20.48L91.20-20.48L91.20-10.69L91.20-10.69Q91.20-6.66 93.47-4.61L93.47-4.61L93.47-4.61Q95.74-2.56 99.52-2.56L99.52-2.56L99.52-2.56Q103.10-2.56 105.63-4.77L105.63-4.77L105.63-4.77Q108.16-6.98 108.16-11.07L108.16-11.07L108.16-21.50ZM137.60-2.24L137.60-2.24Q135.30-0.77 132.35 0L132.35 0L132.35 0Q129.41 0.77 126.46 0.77L126.46 0.77L126.46 0.77Q121.73 0.77 118.94-1.57L118.94-1.57L118.94-1.57Q116.16-3.90 116.16-8.58L116.16-8.58L116.16-21.70L116.16-21.70Q116.16-26.88 119.39-29.76L119.39-29.76L119.39-29.76Q122.62-32.64 127.94-32.64L127.94-32.64L127.94-32.64Q133.25-32.64 136.22-29.79L136.22-29.79L136.22-29.79Q139.20-26.94 139.20-21.89L139.20-21.89L139.20-13.57L119.74-12.48L119.74-8.58L119.74-8.58Q119.74-5.50 121.73-3.97L121.73-3.97L121.73-3.97Q123.71-2.43 126.91-2.43L126.91-2.43L126.91-2.43Q131.39-2.43 136.19-4.99L136.19-4.99L137.60-2.24ZM135.62-22.34L135.62-22.34Q135.62-26.30 133.12-27.94L133.12-27.94L133.12-27.94Q130.62-29.57 127.87-29.57L127.87-29.57L127.87-29.57Q124.35-29.57 122.05-27.65L122.05-27.65L122.05-27.65Q119.74-25.73 119.74-21.63L119.74-21.63L119.74-16L135.62-16.77L135.62-22.34ZM146.69 0L146.69-44.80L150.27-44.80L150.27 0L146.69 0Z" fill="url(#editing-gradient-gradient)"></path></g></g></svg></a></div><div class="hidden sm:block sm:ml-6"><div class="flex space-x-4"><a rel="nav" class="text-background hover:bg-gray-700 hover:text-white px-3 py-3.5 text-sm font-medium" href="/technos">Technos</a><a rel="nav" class="text-background hover:bg-gray-700 hover:text-white px-3 py-3.5 text-sm font-medium" href="/idees">Idées</a><a rel="nav" class="text-background hover:bg-gray-700 hover:text-white px-3 py-3.5 text-sm font-medium" href="/divers">Divers</a></div></div></div><div class="absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:ml-6 sm:pr-0"><div class="ml-3 relative"><div><a target="_blank" rel="noopener noreferrer" href="https://github.com/laegel"><svg class="text-background" viewBox="0 0 16 16" width="24" height="24" fill="currentColor" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></div></div></div></div><div class="sm:hidden bg-primary" id="mobile-menu"><div class="px-2 pt-2 pb-3 space-y-1"><a rel="nav" class="text-background px-3 py-2 text-sm font-medium" href="/technos">Technos</a><a rel="nav" class="text-background px-3 py-2 text-sm font-medium" href="/idees">Idées</a><a rel="nav" class="text-background px-3 py-2 text-sm font-medium" href="/divers">Divers</a></div></div></nav><div class="mt-22 sm:mt-10 pt-10 page-content"><div><h1 class="text-5xl text-primary text-center font-bold mb-6 !leading-tight">React: Class to Functional</h1><div class="text-center text-sm mb-4">Le 2 avril 2022</div><p class="mb-4">Voici <a class="text-primary underline underline-offset-1" target="_blank" rel="noreferrer noopener nofollow" href="https://marketplace.visualstudio.com/items?itemName=Laegel.react-class-to-functional">ma toute première extension VS Code</a> : un codemod qui transforme un composant React avec la syntaxe classe vers la syntaxe fonctionnelle.</p>
        <h2 class="text-3xl text-primary mb-4">
          Pour quoi faire ? Les classes, c&#39;est cool.
        </h2><p class="mb-4">Il y a de nombreux inconvénients à utiliser React avec la syntaxe classe :</p><ul class="mb-4 list-disc pl-6"><li>il faut plus de code pour un résultat similaire (verbosité) ;</li>
<li>l&#39;utilisation des classes et <code>this</code> n&#39;est pas intuitive pour tout le monde ;</li>
<li><a class="text-primary underline underline-offset-1" target="_blank" rel="noreferrer noopener nofollow" href="https://fr.reactjs.org/docs/composition-vs-inheritance.html">l&#39;héritage est déconseillé au profit de la composition</a> ;</li>
<li>le succès des hooks est tel qu&#39;il est désormais beaucoup plus difficile de trouver des tutoriels pour développer avec des classes (si vous recrutez des juniors, ayez ça en tête).</li>
</ul><p class="mb-4">Personnellement, j&#39;ai tendance à favoriser le fonctionnel en JavaScript/TypeScript, plus cohérent avec la nature du langage que la déclaration de classes (même si tout est objet mais c&#39;est une autre histoire). Sachant que j&#39;ai appris <a class="text-primary underline underline-offset-1" target="_blank" rel="noreferrer noopener nofollow" href="https://rescript-lang.org/docs/react/latest/introduction">React avec ReScript</a>, la syntaxe fonctionnelle est pour moi beaucoup plus naturelle.</p>
        <h2 class="text-3xl text-primary mb-4">
          Comment ça marche ?
        </h2><p class="mb-4">Dans cette extension se trouve un script qui va analyser du code en détectant les déclarations de composants React sous forme de classe, littéralement <code>class MyComponent extends React.Component</code>. </p><p class="mb-4">Pour transformer un composant-classe en composant-fonction, les étapes suivantes sont effectuées :</p><ul class="mb-4 list-disc pl-6"><li>la méthode <code>render</code> devient le composant-fonction ;</li>
<li>les méthodes <code>componentDidMount</code>, <code>componentDidUpdate</code> et <code>componentWillUnmount</code> sont transformées en appels à <code>useEffect</code> ;</li>
<li>les appels <code>React.createRef</code> sont transformés en appels <code>useRef</code> ;</li>
<li>la propriété <code>state</code> est découpée en de multiples appels à <code>useState</code> ;</li>
<li>les <code>props</code> sont récupérées et utilisées en tant qu&#39;argument de la fonction ;</li>
<li>les méthodes sont transformées en de simples fonctions internes ;</li>
<li>les propriétés sont transformées en des appels à <code>useRef</code> ;</li>
<li>les mots-clés <code>this</code> sont supprimés ;</li>
<li>l&#39;interface de l&#39;état du composant (si elle existe) est supprimée ;</li>
<li>l&#39;import de React est adapté en conséquence.</li>
</ul><p class="mb-4">Installez l&#39;extension, ouvrez un fichier qui contient des classes et exécutez la commande <code>react-class-to-functional.transform</code> depuis la palette de VS Code.</p><hr class="!my-6 m-auto text-primary max-w-screen-md"/><p class="mb-4">Si ça vous plaît, laissez une étoile sur le repo ! Je compte faire évoluer cette extension pour plus de possibilités et une meilleure ergonomie. N&#39;hésitez pas à remonter les erreurs en créant des issues sur GitHub. </p><p class="mb-4">Le code est <a class="text-primary underline underline-offset-1" target="_blank" rel="noreferrer noopener nofollow" href="https://github.com/Laegel/react-class-to-function">disponible ici</a>.</p></div></div><div class="giscus"></div></main><footer class="h-24 w-full bg-primary"><div class="h-6 relative"><div class="h-full bg-cover" style="background-image:url(/images/idees.jpg)"></div><div class="bg-primary opacity-40 absolute w-full h-full top-0 left-0"></div></div><div class="h-18"><div class="m-auto max-w-screen-lg flex items-center"><div class="mr-2 flex-1"><a href="https://github.com/Laegel/blog" class="inline-block mt-2" target="_blank" style="width:100px" rel="noreferrer"><svg height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="135.91750488281252 12.788867187500003 228.16499023437498 124.422265625" style="background:none" preserveAspectRatio="xMidYMid"><defs><linearGradient id="editing-gradient-gradient" x1="0" x2="1" y1="0.5" y2="0.5" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#000"></stop><stop offset="1" stop-color="#000"></stop></linearGradient></defs><g><g transform="translate(172.3700008392334, 94.11999893188477)"><path d="M4.99 0L4.99-44.80L8.58-44.80L8.58-3.20L28.10-3.20L28.10 0L4.99 0ZM55.17 0L55.17 0Q48.26 0.70 45.18 0.70L45.18 0.70L45.18 0.70Q38.46 0.70 34.50-1.79L34.50-1.79L34.50-1.79Q30.53-4.29 30.53-10.82L30.53-10.82L30.53-16.13L30.53-16.13Q30.53-22.46 34.94-24.64L34.94-24.64L34.94-24.64Q37.06-25.73 40.32-25.73L40.32-25.73L40.32-25.73Q43.33-25.73 46.40-24.74L46.40-24.74L46.40-24.74Q49.47-23.74 51.58-22.14L51.58-22.14L51.58-22.14Q51.58-25.66 49.54-27.74L49.54-27.74L49.54-27.74Q47.49-29.82 41.66-29.82L41.66-29.82L41.86-32.58L41.86-32.58Q48-32.58 50.91-30.62L50.91-30.62L50.91-30.62Q53.82-28.67 54.50-25.98L54.50-25.98L54.50-25.98Q55.17-23.30 55.17-19.07L55.17-19.07L55.17 0ZM51.58-19.39L51.58-19.39Q48.96-20.61 45.98-21.50L45.98-21.50L45.98-21.50Q43.01-22.40 40.51-22.40L40.51-22.40L40.51-22.40Q34.05-22.40 34.05-15.94L34.05-15.94L34.05-10.37L34.05-10.37Q34.05-6.21 36.93-4.32L36.93-4.32L36.93-4.32Q39.81-2.43 45.12-2.43L45.12-2.43L45.12-2.43Q47.87-2.43 51.58-2.94L51.58-2.94L51.58-19.39ZM81.15-2.24L81.15-2.24Q78.85-0.77 75.90 0L75.90 0L75.90 0Q72.96 0.77 70.02 0.77L70.02 0.77L70.02 0.77Q65.28 0.77 62.50-1.57L62.50-1.57L62.50-1.57Q59.71-3.90 59.71-8.58L59.71-8.58L59.71-21.70L59.71-21.70Q59.71-26.88 62.94-29.76L62.94-29.76L62.94-29.76Q66.18-32.64 71.49-32.64L71.49-32.64L71.49-32.64Q76.80-32.64 79.78-29.79L79.78-29.79L79.78-29.79Q82.75-26.94 82.75-21.89L82.75-21.89L82.75-13.57L63.30-12.48L63.30-8.58L63.30-8.58Q63.30-5.50 65.28-3.97L65.28-3.97L65.28-3.97Q67.26-2.43 70.46-2.43L70.46-2.43L70.46-2.43Q74.94-2.43 79.74-4.99L79.74-4.99L81.15-2.24ZM79.17-22.34L79.17-22.34Q79.17-26.30 76.67-27.94L76.67-27.94L76.67-27.94Q74.18-29.57 71.42-29.57L71.42-29.57L71.42-29.57Q67.90-29.57 65.60-27.65L65.60-27.65L65.60-27.65Q63.30-25.73 63.30-21.63L63.30-21.63L63.30-16L79.17-16.77L79.17-22.34ZM103.94 10.69L103.94 10.69Q108.16 9.09 108.16 4.03L108.16 4.03L108.16-3.90L108.16-3.90Q105.47 0.77 99.52 0.77L99.52 0.77L99.52 0.77Q93.89 0.77 90.75-2.30L90.75-2.30L90.75-2.30Q87.62-5.38 87.62-11.26L87.62-11.26L87.62-20.80L87.62-20.80Q87.62-26.43 90.91-29.54L90.91-29.54L90.91-29.54Q94.21-32.64 99.78-32.64L99.78-32.64L99.78-32.64Q105.73-32.64 108.42-28.35L108.42-28.35L108.16-32.06L111.74-32.06L111.74 4.10L111.74 4.10Q111.74 7.94 110.14 10.11L110.14 10.11L110.14 10.11Q108.54 12.29 104.90 13.44L104.90 13.44L103.94 10.69ZM108.16-21.50L108.16-21.50Q108.16-25.47 105.60-27.42L105.60-27.42L105.60-27.42Q103.04-29.38 99.52-29.38L99.52-29.38L99.52-29.38Q96.13-29.38 93.66-27.30L93.66-27.30L93.66-27.30Q91.20-25.22 91.20-20.48L91.20-20.48L91.20-10.69L91.20-10.69Q91.20-6.66 93.47-4.61L93.47-4.61L93.47-4.61Q95.74-2.56 99.52-2.56L99.52-2.56L99.52-2.56Q103.10-2.56 105.63-4.77L105.63-4.77L105.63-4.77Q108.16-6.98 108.16-11.07L108.16-11.07L108.16-21.50ZM137.60-2.24L137.60-2.24Q135.30-0.77 132.35 0L132.35 0L132.35 0Q129.41 0.77 126.46 0.77L126.46 0.77L126.46 0.77Q121.73 0.77 118.94-1.57L118.94-1.57L118.94-1.57Q116.16-3.90 116.16-8.58L116.16-8.58L116.16-21.70L116.16-21.70Q116.16-26.88 119.39-29.76L119.39-29.76L119.39-29.76Q122.62-32.64 127.94-32.64L127.94-32.64L127.94-32.64Q133.25-32.64 136.22-29.79L136.22-29.79L136.22-29.79Q139.20-26.94 139.20-21.89L139.20-21.89L139.20-13.57L119.74-12.48L119.74-8.58L119.74-8.58Q119.74-5.50 121.73-3.97L121.73-3.97L121.73-3.97Q123.71-2.43 126.91-2.43L126.91-2.43L126.91-2.43Q131.39-2.43 136.19-4.99L136.19-4.99L137.60-2.24ZM135.62-22.34L135.62-22.34Q135.62-26.30 133.12-27.94L133.12-27.94L133.12-27.94Q130.62-29.57 127.87-29.57L127.87-29.57L127.87-29.57Q124.35-29.57 122.05-27.65L122.05-27.65L122.05-27.65Q119.74-25.73 119.74-21.63L119.74-21.63L119.74-16L135.62-16.77L135.62-22.34ZM146.69 0L146.69-44.80L150.27-44.80L150.27 0L146.69 0Z" fill="url(#editing-gradient-gradient)"></path></g></g></svg></a></div><a href="https://github.com/Laegel/" target="_blank" rel="noopener noreferrer" class="inline-block mr-4"><svg class="inline-block text-background" viewBox="0 0 16 16" width="24" height="24" fill="currentColor" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a><a href="https://www.linkedin.com/in/valentin-chouaf/" target="_blank" rel="noopener noreferrer" class="inline-block mr-2 text-background"><svg class="inline-block" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><g fill="none"><path d="M0 18.338C0 8.216 8.474 0 18.92 0h218.16C247.53 0 256 8.216 256 18.338v219.327C256 247.79 247.53 256 237.08 256H18.92C8.475 256 0 247.791 0 237.668V18.335z" fill="currentColor"></path><path d="M77.796 214.238V98.986H39.488v115.252H77.8zM58.65 83.253c13.356 0 21.671-8.85 21.671-19.91-.25-11.312-8.315-19.915-21.417-19.915-13.111 0-21.674 8.603-21.674 19.914 0 11.06 8.312 19.91 21.169 19.91h.248zM99 214.238h38.305v-64.355c0-3.44.25-6.889 1.262-9.346 2.768-6.885 9.071-14.012 19.656-14.012 13.858 0 19.405 10.568 19.405 26.063v61.65h38.304v-66.082c0-35.399-18.896-51.872-44.099-51.872-20.663 0-29.738 11.549-34.78 19.415h.255V98.99H99.002c.5 10.812-.003 115.252-.003 115.252z" fill="white"></path></g></svg></a></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":"\u003ch1 class=\"text-5xl text-primary text-center font-bold mb-6 !leading-tight\"\u003eReact: Class to Functional\u003c/h1\u003e\u003cdiv class=\"text-center text-sm mb-4\"\u003eLe 2 avril 2022\u003c/div\u003e\u003cp class=\"mb-4\"\u003eVoici \u003ca class=\"text-primary underline underline-offset-1\" target=\"_blank\" rel=\"noreferrer noopener nofollow\" href=\"https://marketplace.visualstudio.com/items?itemName=Laegel.react-class-to-functional\"\u003ema toute première extension VS Code\u003c/a\u003e : un codemod qui transforme un composant React avec la syntaxe classe vers la syntaxe fonctionnelle.\u003c/p\u003e\n        \u003ch2 class=\"text-3xl text-primary mb-4\"\u003e\n          Pour quoi faire ? Les classes, c\u0026#39;est cool.\n        \u003c/h2\u003e\u003cp class=\"mb-4\"\u003eIl y a de nombreux inconvénients à utiliser React avec la syntaxe classe :\u003c/p\u003e\u003cul class=\"mb-4 list-disc pl-6\"\u003e\u003cli\u003eil faut plus de code pour un résultat similaire (verbosité) ;\u003c/li\u003e\n\u003cli\u003el\u0026#39;utilisation des classes et \u003ccode\u003ethis\u003c/code\u003e n\u0026#39;est pas intuitive pour tout le monde ;\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"text-primary underline underline-offset-1\" target=\"_blank\" rel=\"noreferrer noopener nofollow\" href=\"https://fr.reactjs.org/docs/composition-vs-inheritance.html\"\u003el\u0026#39;héritage est déconseillé au profit de la composition\u003c/a\u003e ;\u003c/li\u003e\n\u003cli\u003ele succès des hooks est tel qu\u0026#39;il est désormais beaucoup plus difficile de trouver des tutoriels pour développer avec des classes (si vous recrutez des juniors, ayez ça en tête).\u003c/li\u003e\n\u003c/ul\u003e\u003cp class=\"mb-4\"\u003ePersonnellement, j\u0026#39;ai tendance à favoriser le fonctionnel en JavaScript/TypeScript, plus cohérent avec la nature du langage que la déclaration de classes (même si tout est objet mais c\u0026#39;est une autre histoire). Sachant que j\u0026#39;ai appris \u003ca class=\"text-primary underline underline-offset-1\" target=\"_blank\" rel=\"noreferrer noopener nofollow\" href=\"https://rescript-lang.org/docs/react/latest/introduction\"\u003eReact avec ReScript\u003c/a\u003e, la syntaxe fonctionnelle est pour moi beaucoup plus naturelle.\u003c/p\u003e\n        \u003ch2 class=\"text-3xl text-primary mb-4\"\u003e\n          Comment ça marche ?\n        \u003c/h2\u003e\u003cp class=\"mb-4\"\u003eDans cette extension se trouve un script qui va analyser du code en détectant les déclarations de composants React sous forme de classe, littéralement \u003ccode\u003eclass MyComponent extends React.Component\u003c/code\u003e. \u003c/p\u003e\u003cp class=\"mb-4\"\u003ePour transformer un composant-classe en composant-fonction, les étapes suivantes sont effectuées :\u003c/p\u003e\u003cul class=\"mb-4 list-disc pl-6\"\u003e\u003cli\u003ela méthode \u003ccode\u003erender\u003c/code\u003e devient le composant-fonction ;\u003c/li\u003e\n\u003cli\u003eles méthodes \u003ccode\u003ecomponentDidMount\u003c/code\u003e, \u003ccode\u003ecomponentDidUpdate\u003c/code\u003e et \u003ccode\u003ecomponentWillUnmount\u003c/code\u003e sont transformées en appels à \u003ccode\u003euseEffect\u003c/code\u003e ;\u003c/li\u003e\n\u003cli\u003eles appels \u003ccode\u003eReact.createRef\u003c/code\u003e sont transformés en appels \u003ccode\u003euseRef\u003c/code\u003e ;\u003c/li\u003e\n\u003cli\u003ela propriété \u003ccode\u003estate\u003c/code\u003e est découpée en de multiples appels à \u003ccode\u003euseState\u003c/code\u003e ;\u003c/li\u003e\n\u003cli\u003eles \u003ccode\u003eprops\u003c/code\u003e sont récupérées et utilisées en tant qu\u0026#39;argument de la fonction ;\u003c/li\u003e\n\u003cli\u003eles méthodes sont transformées en de simples fonctions internes ;\u003c/li\u003e\n\u003cli\u003eles propriétés sont transformées en des appels à \u003ccode\u003euseRef\u003c/code\u003e ;\u003c/li\u003e\n\u003cli\u003eles mots-clés \u003ccode\u003ethis\u003c/code\u003e sont supprimés ;\u003c/li\u003e\n\u003cli\u003el\u0026#39;interface de l\u0026#39;état du composant (si elle existe) est supprimée ;\u003c/li\u003e\n\u003cli\u003el\u0026#39;import de React est adapté en conséquence.\u003c/li\u003e\n\u003c/ul\u003e\u003cp class=\"mb-4\"\u003eInstallez l\u0026#39;extension, ouvrez un fichier qui contient des classes et exécutez la commande \u003ccode\u003ereact-class-to-functional.transform\u003c/code\u003e depuis la palette de VS Code.\u003c/p\u003e\u003chr class=\"!my-6 m-auto text-primary max-w-screen-md\"/\u003e\u003cp class=\"mb-4\"\u003eSi ça vous plaît, laissez une étoile sur le repo ! Je compte faire évoluer cette extension pour plus de possibilités et une meilleure ergonomie. N\u0026#39;hésitez pas à remonter les erreurs en créant des issues sur GitHub. \u003c/p\u003e\u003cp class=\"mb-4\"\u003eLe code est \u003ca class=\"text-primary underline underline-offset-1\" target=\"_blank\" rel=\"noreferrer noopener nofollow\" href=\"https://github.com/Laegel/react-class-to-function\"\u003edisponible ici\u003c/a\u003e.\u003c/p\u003e"},"__N_SSG":true},"page":"/idees/articles/[slug]","query":{"slug":"react-class-function-codemod"},"buildId":"2cIfnXbK-LN1ukIOQ7QcV","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>